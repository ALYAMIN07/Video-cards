{% extends "base.html" %}

{% block title %}Редактировать видеокарту{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Редактировать видеокарту</h1>
    
    {% if errors %}
        <div class="alert alert-error">
            {% for error in errors %}
                <div>{{ error }}</div>
            {% endfor %}
        </div>
    {% endif %}
    
    <form method="POST" class="card-form">
        <div class="form-group">
            <label for="name">Название видеокарты:</label>
            <input type="text" id="name" name="name" value="{{ card.name }}" required>
        </div>
        
        <div class="form-group">
            <label for="manufacturer">Производитель:</label>
            <select id="manufacturer" name="manufacturer" required>
                <option value="">Выберите производителя</option>
                <option value="NVIDIA" {% if card.manufacturer =='NVIDIA' %}selected{% endif %}>NVIDIA</option>
                <option value="AMD" {% if card.manufacturer =='AMD' %}selected{% endif %}>AMD</option>
                <option value="Intel" {% if card.manufacturer =='Intel' %}selected{% endif %}>Intel</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="memory">Объем памяти (ГБ):</label>
            <input type="number" id="memory" name="memory" value="{{ card.memory }}" min="1" max="48" required>
        </div>
        
        <div class="form-group">
            <label for="memory_type">Тип памяти:</label>
            <select id="memory_type" name="memory_type" required>
                <option value="">Выберите тип памяти</option>
                <option value="GDDR5" {% if card.memory_type =='GDDR5' %}selected{% endif %}>GDDR5</option>
                <option value="GDDR5X" {% if card.memory_type =='GDDR5X' %}selected{% endif %}>GDDR5X</option>
                <option value="GDDR6" {% if card.memory_type =='GDDR6' %}selected{% endif %}>GDDR6</option>
                <option value="GDDR6X" {% if card.memory_type =='GDDR6X' %}selected{% endif %}>GDDR6X</option>
                <option value="GDDR7" {% if card.memory_type =='GDDR7' %}selected{% endif %}>GDDR7</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="price">Цена (руб.):</label>
            <input type="number" id="price" name="price" value="{{ card.price }}" step="0.01" min="0" required>
        </div>
        
        <div class="form-group">
            <label for="image_url">URL изображения:</label>
            <input type="url" id="image_url" name="image_url" value="{{ card.image_url or '' }}">
        </div>
        
        <div class="form-group">
            <label for="description">Описание:</label>
            <textarea id="description" name="description" rows="4">{{ card.description or '' }}</textarea>
        </div>
        
        <div class="form-group">
            <label class="checkbox-label">
                <input type="checkbox" name="in_stock" {% if card.in_stock %}checked{% endif %}>
                <span class="checkmark"></span>
                В наличии
            </label>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn-primary">Сохранить изменения</button>
            <a href="{{ url_for('all_cards') }}" class="btn-secondary">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}